type: app
platforms: [android] # don't like [] here, what is a shorter form?

# here should I specify additional repositories? should 'central'  always present?

variants: [debug, release] #should I always specify these variants? and how about [android, jvm] project? jvm don't have debug.

dependencies:
  - ../shared
  - androidx.constraintlayout:constraintlayout:2.1.4
  - androidx.compose.compiler:compiler:${compose_compiler_version}
  - io.realm.kotlin:library-base:${rootProject.extra["realmVersion"]}: compile-only
  - androidx.core:core-ktx:1.9.0
  - androidx.appcompat:appcompat:1.5.1
  - com.google.android.material:material:1.6.1
  - androidx.compose.ui:ui:$compose_ui_version
  - androidx.compose.material:material:$compose_ui_version
  - androidx.compose.ui:ui-tooling:$compose_ui_version
  - androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1
  - androidx.activity:activity-compose:1.6.0
  - androidx.navigation:navigation-runtime-ktx:2.5.2
  - androidx.navigation:navigation-compose:2.6.0-alpha02
  - androidx.lifecycle:lifecycle-viewmodel-savedstate:2.5.1

settings:

  kotlinOptions:
      jvmTarget = "1.8"

  android:
    applicationId: "io.realm.sample.bookshelf.android"
    minSdk: 21
    targetSdk: 33
    versionCode: 1
    versionName: 1.0
    buildFeatures:
      compose: true # should it be a template and not android only?
    composeOptions: #where should this be?
        kotlinCompilerExtensionVersion = compose_compiler_version

  compileOptions: #where does it belong?
      sourceCompatibility = JavaVersion.VERSION_1_8
      targetCompatibility = JavaVersion.VERSION_1_8

settings@debug:
  android:
      signing:
        keyAlias: "androiddebugkey"
        keyPassword: "android"
        storeFile: rootProject.file("debug.keystore") # simply use relative paths?
        storePassword: "android"

settings@release:
  android:
    compileSdk = 33
    isMinifyEnabled = true
    proguardFiles(getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro")
    signingConfig = signingConfigs.getByName("debug")

  signing: # shall we allow $settings@debug.android.signing?. Probably not. Simply put in the common settings
#    keyAlias: "release"
#    keyPassword: "my release key password"
#    storeFile: file("release.keystore")
#    storePassword: "my keystore password"
}





