product:
  type: app
  platforms:
    - android
  variants: [debug, debugPG, release] # Are in fact build

dependencies:
  - ../shared
  # Desugar utils
  - com.android.tools:desugar_jdk_libs:2.0.2
  # Compose
  - androidx.compose.ui:ui:1.3.3
  - androidx.compose.ui:ui-tooling:1.3.3
  - androidx.compose.foundation:foundation:1.3.1
  - androidx.compose.material:material:1.3.1
  # Compose utils
  - io.coil-kt:coil-compose:2.2.2
  - androidx.activity:activity-compose:1.6.1
  - com.google.accompanist:accompanist-swiperefresh:0.28.0
  # Coroutines
  - org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4
  - org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4
  # DI
  - io.insert-koin:koin-core:3.3.3
  - io.insert-koin:koin-android:3.3.3
  # Navigation
  - cafe.adriel.voyager:voyager-navigator:1.0.0-rc03
  # WorkManager
  - androidx.work:work-runtime-ktx:2.8.0

settings:
  kotlin:
    jvmTarget: 1.8
  android:
    namespace: com.github.jetbrains.rssreader.androidApp
    compileSdk: 33
    defaultConfig:
      minSdk: 21
      targetSdk: 33

      applicationId: com.github.jetbrains.rssreader.androidApp
      versionCode: 1
      versionName: 1.0
    compileOptions:
      isCoreLibraryDesugaringEnabled: true
      sourceCompatibility: 1.8
      targetCompatibility: 1.8
    buildFeatures:
      compose: true
    compose: # Unsure if belongs under Android
      kotlinCompilerExtensionVersion: 1.4.3

settings@android+debugPG:
  isDebuggable: false
  versionNameSuffix: " debugPG"
  matchingFallbacks:
    - debug
  isMinifyEnabled: true
  proguard:
    default: proguard-android-optimize.txt
    file: proguard-rules.pro

settings@android+release:
  signingConfig:
    storeFile: ./key/key.jks
    storePassword: "" # Read from properties/env
    keyAlias: "" # Read from properties/env
    keyPassword: "" # Read from properties/env
  isMinifyEnabled: true
  proguard:
    default: proguard-android-optimize.txt
    file: proguard-rules.pro