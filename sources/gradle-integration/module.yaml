product:
  type: lib
  platforms: [ jvm ]

apply:
  - ../common.module-template.yaml

settings:
  publishing:
    group: org.jetbrains.amper.settings.plugin
    name: org.jetbrains.amper.settings.plugin.gradle.plugin

dependencies:
  - ../core
  - ../core-intellij
  - ../frontend-api
  - ../frontend/schema
  - $libs.kotlin.gradle.plugin
  - com.android.library:com.android.library.gradle.plugin:8.2.0
  - $libs.kotlin.serialization.plugin
  - $libs.kotlin.compose.compiler.gradle.plugin
  - $libs.compose.gradle.plugin
  - dev.gradleplugins:gradle-api:8.6: compile-only
  - gradle.plugin.org.jetbrains.gradle.apple:apple-gradle-plugin:222.4595-0.23.2
  - org.jetbrains.kotlinx:kover-gradle-plugin:0.7.4

test-dependencies:
  - $libs.intellij.platform.core
  - org.gradle:gradle-tooling-api:8.9
  - commons-io:commons-io:2.4
  - ../test-base

tasks:
  testJvm:
    dependsOn: [ publishJvmToMavenLocal ]
